rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Bombs collection: lecture publique, écriture via Cloud Function uniquement
    match /bombs/{bombId} {
      // Tout le monde peut lire les bombes
      allow read: if true;

      // Personne ne peut écrire directement (seulement via Cloud Function)
      allow write: if false;
    }

    // IP counters: privés, accessibles uniquement par Cloud Functions
    match /ipCounters/{counterId} {
      allow read, write: if false;
    }

    // Sessions: privées, accessibles uniquement par Cloud Functions
    match /sessions/{sessionId} {
      allow read, write: if false;
    }
  }
}
